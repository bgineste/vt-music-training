/** 
* Ecoute des boutons des pupitres
*/

import Swal from 'sweetalert2';
								 
document.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll(".vt--pupitre-button").forEach(div => {
        div.addEventListener("click", async () => {
			const trigger = event.target.closest('.vt--pupitre-button'); // Remonte à l'élément parent
			if (trigger) {
				const chemin = vtmusicNormalizePath(trigger.getAttribute("data-chemin"));
				const nomfichier = trigger.getAttribute("data-nomfichier");
				const type = trigger.getAttribute("data-type");
				const clavier = trigger.getAttribute("data-clavier");
				const stereo = trigger.getAttribute("data-stereo");
				console.log("Chemin : " + chemin); // + "/" + nomFichier+ "/" + type);
				if (typeof vtActiverLecteur === 'function') {
					vtActiverLecteur(chemin, nomfichier, type, clavier, stereo);
				} else {
					console.error('La fonction vtActiverLecteur n’est pas définie.');
				}
			}
        });
    });
});
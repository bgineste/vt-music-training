(()=>{"use strict";var e,o={485:()=>{const e=window.wp.blocks,o=window.wp.blockEditor,s=window.wp.data;window.wp.i18n;const n=window.wp.components,i=window.ReactJSXRuntime,t=JSON.parse('{"UU":"vt-music-training/bloc-module"}');(0,e.registerBlockType)(t.UU,{edit:function(e){const t=(0,o.useBlockProps)(),{context:r,attributes:l,setAttributes:c,clientId:a}=e,{"bloc-oeuvre/cheminFichiersOeuvre":u}=r,{cheminFichiersModule:d,titreModule:v,hasIndexOeuvre:h}=l,b=function(e,o){const n=(0,s.useSelect)(o=>o("core/block-editor").getBlockRootClientId(e),[e]),i=(0,s.useSelect)(e=>e("core/block-editor").getBlocks(n),[n]);console.log("Parent Client ID:",n),console.log("Sibling Blocks:",i);const t=i.some(e=>e.name===o);return console.log(`Sibling "${o}" exists:`,t),t}(a,"vt-music-training/index-oeuvre");h!==b&&c({hasIndexOeuvre:b}),console.log("existIndexOeuvre",b),d||c({cheminFichiersModule:u});const x=["core/paragraph","vt-music-training/bloc-fichiers-de-travail","vt-music-training/bloc-prononciation"];return(0,i.jsx)("div",{...t,children:e.isSelected?(0,i.jsxs)("div",{children:[(0,i.jsx)(n.TextControl,{label:"Titre du module (nom du morceau, de la pièce, du numéro de l'oeuvre)",value:v,onChange:e=>c({titreModule:e})}),(0,i.jsx)(n.TextControl,{label:"Chemin des fichiers du module",value:d,onChange:e=>c({cheminFichiersModule:e})}),(0,i.jsx)("p",{children:"Insérer ici les blocs qui composent le module : paroles, vidéos, audios, etc."}),(0,i.jsx)(o.InnerBlocks,{allowedBlocks:x,placeholder:"Ajoutez vos blocs ici"})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:v}),(0,i.jsx)(o.InnerBlocks,{allowedBlocks:x,placeholder:"Ajoutez vos blocs ici"})]})})},save:function(e){const s=o.useBlockProps.save(),{attributes:{titreModule:n,hasIndexOeuvre:t}}=e;return(0,i.jsxs)("div",{...s,className:"vt--un-module",children:[(0,i.jsxs)("div",{className:"vt--titre-et-bouton-esc",children:[(0,i.jsx)("h4",{className:"vt--titre-de-morceau",children:n}),(0,i.jsxs)("label",{className:"vt--bouton__switch",children:[(0,i.jsx)("input",{className:"vt--bouton-bloc-esc",type:"checkbox"}),(0,i.jsx)("span",{className:"vt--bouton__slider vt--bouton__round"})]})]}),(0,i.jsxs)("div",{className:"vt--bloc-esc",children:[(0,i.jsx)(o.InnerBlocks.Content,{}),t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"vt--bouton-appel-index-oeuvre alignleft",children:"Index"}),(0,i.jsx)("br",{})]}):(0,i.jsx)("br",{})]})]})}})}},s={};function n(e){var i=s[e];if(void 0!==i)return i.exports;var t=s[e]={exports:{}};return o[e](t,t.exports,n),t.exports}n.m=o,e=[],n.O=(o,s,i,t)=>{if(!s){var r=1/0;for(u=0;u<e.length;u++){for(var[s,i,t]=e[u],l=!0,c=0;c<s.length;c++)(!1&t||r>=t)&&Object.keys(n.O).every(e=>n.O[e](s[c]))?s.splice(c--,1):(l=!1,t<r&&(r=t));if(l){e.splice(u--,1);var a=i();void 0!==a&&(o=a)}}return o}t=t||0;for(var u=e.length;u>0&&e[u-1][2]>t;u--)e[u]=e[u-1];e[u]=[s,i,t]},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={817:0,757:0};n.O.j=o=>0===e[o];var o=(o,s)=>{var i,t,[r,l,c]=s,a=0;if(r.some(o=>0!==e[o])){for(i in l)n.o(l,i)&&(n.m[i]=l[i]);if(c)var u=c(n)}for(o&&o(s);a<r.length;a++)t=r[a],n.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return n.O(u)},s=globalThis.webpackChunkvt_music_training=globalThis.webpackChunkvt_music_training||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))})();var i=n.O(void 0,[757],()=>n(485));i=n.O(i)})();
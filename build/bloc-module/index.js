(()=>{"use strict";var e,o={296:()=>{const e=window.wp.blocks,o=window.wp.blockEditor,s=window.wp.element,r=window.wp.data;window.wp.i18n;const t=window.wp.components,i=window.ReactJSXRuntime,n=JSON.parse('{"UU":"vt-music-training/bloc-module"}');(0,e.registerBlockType)(n.UU,{edit:function(e){const n=(0,o.useBlockProps)(),{context:l,attributes:c,setAttributes:a,clientId:u}=e,{"bloc-oeuvre/cheminFichiersOeuvre":d}=l,{cheminFichiersModule:v,titreModule:m,hasIndexOeuvre:p,lyricsPrompter:h}=c,b=function(e,o){const s=(0,r.useSelect)(o=>o("core/block-editor").getBlockRootClientId(e),[e]),t=(0,r.useSelect)(e=>e("core/block-editor").getBlocks(s),[s]).some(e=>e.name===o);return console.log(`Sibling "${o}" exists:`,t),t}(u,"vt-music-training/index-oeuvre");(0,s.useEffect)(()=>{p!==b&&a({hasIndexOeuvre:b})},[b]),(0,s.useEffect)(()=>{!v&&d&&a({cheminFichiersModule:d})},[]);const x=["core/paragraph","vt-music-training/paroles-du-module","vt-music-training/bloc-fichiers-de-travail","vt-music-training/bloc-prononciation","vt-music-training/consignes-du-module"];return console.log("Rendu bloc module",c),(0,i.jsx)("div",{...n,children:e.isSelected?(0,i.jsxs)("div",{children:[(0,i.jsx)(t.TextControl,{label:"Titre du module (nom du morceau, de la pièce, du numéro de l'oeuvre)",value:m,onChange:e=>a({titreModule:e})}),(0,i.jsx)(t.TextControl,{label:"Chemin des fichiers du module",value:v,onChange:e=>a({cheminFichiersModule:e})}),(0,i.jsx)("label",{className:"css-2o4jwd ej5x27r2 css-qy3gpb",children:"Prompteur pour le morceau"}),(0,i.jsx)(o.RichText,{tagName:"div",className:"vt--lyrics-prompter components-text-control__input",value:h,onChange:e=>a({lyricsPrompter:e}),placeholder:"Saisissez le prompteur... ou un _ (underscore) pour 'pas de prompteur'",allowedFormats:["core/bold","core/italic","core/link","core/underline","core/text-color"]}),(0,i.jsx)("p",{children:"Insérer ici les blocs qui composent le module : paroles, vidéos, audios, etc."}),(0,i.jsx)(o.InnerBlocks,{allowedBlocks:x,placeholder:"Ajoutez vos blocs ici"})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:m}),(0,i.jsx)(o.InnerBlocks,{allowedBlocks:x,placeholder:"Ajoutez vos blocs ici"})]})})},save:function(e){const s=o.useBlockProps.save(),{attributes:{titreModule:r,hasIndexOeuvre:t,lyricsPrompter:n}}=e;return(0,i.jsxs)("div",{...s,className:"vt--un-module",children:[(0,i.jsxs)("div",{className:"vt--titre-et-bouton-esc",children:[(0,i.jsx)("h4",{className:"vt--titre-de-morceau",children:r}),(0,i.jsxs)("label",{className:"vt--bouton__switch",children:[(0,i.jsx)("input",{className:"vt--bouton-bloc-esc",type:"checkbox"}),(0,i.jsx)("span",{className:"vt--bouton__slider vt--bouton__round"})]})]}),(0,i.jsxs)("div",{className:"vt--bloc-esc",children:[(0,i.jsx)(o.InnerBlocks.Content,{}),t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"vt--bouton-appel-index-oeuvre alignleft",children:"Index"}),(0,i.jsx)("br",{})]}):(0,i.jsx)("br",{})]})]})}})}},s={};function r(e){var t=s[e];if(void 0!==t)return t.exports;var i=s[e]={exports:{}};return o[e](i,i.exports,r),i.exports}r.m=o,e=[],r.O=(o,s,t,i)=>{if(!s){var n=1/0;for(u=0;u<e.length;u++){for(var[s,t,i]=e[u],l=!0,c=0;c<s.length;c++)(!1&i||n>=i)&&Object.keys(r.O).every(e=>r.O[e](s[c]))?s.splice(c--,1):(l=!1,i<n&&(n=i));if(l){e.splice(u--,1);var a=t();void 0!==a&&(o=a)}}return o}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[s,t,i]},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={6817:0,757:0};r.O.j=o=>0===e[o];var o=(o,s)=>{var t,i,[n,l,c]=s,a=0;if(n.some(o=>0!==e[o])){for(t in l)r.o(l,t)&&(r.m[t]=l[t]);if(c)var u=c(r)}for(o&&o(s);a<n.length;a++)i=n[a],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},s=globalThis.webpackChunkvt_music_training=globalThis.webpackChunkvt_music_training||[];s.forEach(o.bind(null,0)),s.push=o.bind(null,s.push.bind(s))})();var t=r.O(void 0,[757],()=>r(296));t=r.O(t)})();
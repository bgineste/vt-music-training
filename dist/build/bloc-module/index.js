(()=>{"use strict";var e,o={296:()=>{const e=window.wp.blocks,o=window.wp.blockEditor,r=window.wp.element,s=window.wp.data;window.wp.i18n;const t=window.wp.components,i=window.ReactJSXRuntime,n=JSON.parse('{"UU":"vt-music-training/bloc-module"}');(0,e.registerBlockType)(n.UU,{edit:function(e){const n=(0,o.useBlockProps)(),{context:l,attributes:c,setAttributes:a,clientId:u}=e,{"bloc-oeuvre/cheminFichiersOeuvre":d}=l,{cheminFichiersModule:m,titreModule:v,hasIndexOeuvre:p,lyricsPrompter:h}=c,x=function(e,o){const r=(0,s.useSelect)(o=>o("core/block-editor").getBlockRootClientId(e),[e]),t=(0,s.useSelect)(e=>e("core/block-editor").getBlocks(r),[r]).some(e=>e.name===o);return console.log(`Sibling "${o}" exists:`,t),t}(u,"vt-music-training/index-oeuvre");(0,r.useEffect)(()=>{p!==x&&a({hasIndexOeuvre:x})},[x]),(0,r.useEffect)(()=>{!m&&d&&a({cheminFichiersModule:d})},[]);const b=["core/paragraph","vt-music-training/paroles-du-module","vt-music-training/bloc-fichiers-de-travail","vt-music-training/bloc-prononciation","vt-music-training/consignes-du-module"];return console.log("Rendu bloc module",c),(0,i.jsx)("div",{...n,children:e.isSelected?(0,i.jsxs)("div",{children:[(0,i.jsx)(t.TextControl,{label:"Titre du module (nom du morceau, de la pièce, du numéro de l'oeuvre)",value:v,onChange:e=>a({titreModule:e})}),(0,i.jsx)(t.TextControl,{label:"Chemin des fichiers du module",value:m,onChange:e=>a({cheminFichiersModule:e})}),(0,i.jsx)("label",{className:"css-2o4jwd ej5x27r2 css-qy3gpb",children:"Prompteur pour le morceau"}),(0,i.jsx)(o.RichText,{tagName:"div",className:"vt--lyrics-prompter components-text-control__input",value:h,onChange:e=>a({lyricsPrompter:e}),placeholder:"Saisissez le prompteur... ou un _ (underscore) pour 'pas de prompteur'",allowedFormats:["core/bold","core/italic","core/link","core/underline","core/text-color"]}),(0,i.jsx)("p",{children:"Insérer ici les blocs qui composent le module : paroles, vidéos, audios, etc."}),(0,i.jsx)(o.InnerBlocks,{allowedBlocks:b,placeholder:"Ajoutez vos blocs ici"})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{children:v}),(0,i.jsx)(o.InnerBlocks,{allowedBlocks:b,placeholder:"Ajoutez vos blocs ici"})]})})},save:function(e){const r=o.useBlockProps.save(),{attributes:{titreModule:s,hasIndexOeuvre:t,lyricsPrompter:n}}=e;return(0,i.jsxs)("div",{...r,className:"vt--un-module",children:[(0,i.jsxs)("div",{className:"vt--titre-et-bouton-esc",children:[(0,i.jsx)("h4",{className:"vt--titre-de-morceau",children:s}),(0,i.jsxs)("label",{className:"vtmt--bouton__switch vtmt--bouton__switch-module",children:[(0,i.jsx)("input",{type:"checkbox",role:"switch"}),(0,i.jsx)("span",{className:"vtmt--bouton__slider"})]})]}),(0,i.jsxs)("div",{className:"vt--bloc-esc",children:[(0,i.jsx)(o.InnerBlocks.Content,{}),t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{className:"vt--bouton-appel-index-oeuvre alignleft",children:"Index"}),(0,i.jsx)("br",{})]}):(0,i.jsx)("br",{})]})]})}})}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return o[e](i,i.exports,s),i.exports}s.m=o,e=[],s.O=(o,r,t,i)=>{if(!r){var n=1/0;for(u=0;u<e.length;u++){for(var[r,t,i]=e[u],l=!0,c=0;c<r.length;c++)(!1&i||n>=i)&&Object.keys(s.O).every(e=>s.O[e](r[c]))?r.splice(c--,1):(l=!1,i<n&&(n=i));if(l){e.splice(u--,1);var a=t();void 0!==a&&(o=a)}}return o}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,t,i]},s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={6817:0,757:0};s.O.j=o=>0===e[o];var o=(o,r)=>{var t,i,[n,l,c]=r,a=0;if(n.some(o=>0!==e[o])){for(t in l)s.o(l,t)&&(s.m[t]=l[t]);if(c)var u=c(s)}for(o&&o(r);a<n.length;a++)i=n[a],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},r=globalThis.webpackChunkvt_music_training=globalThis.webpackChunkvt_music_training||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})();var t=s.O(void 0,[757],()=>s(296));t=s.O(t)})();